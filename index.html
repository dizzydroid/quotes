<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quotes</title>
    <!-- Including Bootstrap CSS for styling -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Including custom CSS for styling -->
    <link href="styles.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body style="display: flex; flex-direction: column; align-items: center;">
    <div class="logo-container">
        <img id="logo" src="https://i.ibb.co/s9QrBLX/quotespng.png" alt="Logo">
        <button id="toggle-theme">üåô</button>
    </div>
    
    <div id="quote-container" class="shadow p-3 mb-5 bg-white rounded">
        <p id="quote"><span id="quote-content">Loading...</span></p>
        <p id="author"></p>
        <p id="favorite-label">a dizzydroid favorite</p>
    </div>


<button id="new-quote" class="btn btn-light">
    <span class="material-icons">autorenew</span>
</button>

    <!-- Including jQuery and Bootstrap JS for functionality -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
    const favorites = [
        { content: "Despite everything, it's still you.", author: "" },
        { content: "Be like the flower that gives its fragrance to even the hand that crushes it.", author: "" },
        { content: "In the kingdom of glass everything is transparent, and there is no place to hide a dark heart.", author: "" },
        { content: "The child is father of the man", author: "" },
        { content: "Sometimes to stay alive, you gotta kill your mind.", author: "" },
        { content: "Work hard in silence, let your success make the noise.", author: "" },
        { content: "My thoughts are stars I cannot fathom into constellations.", author: "" },
        { content: "Common sense is not so common.", author: "" }
    ];

    function getQuote() {
        // Add the spinner class to the refresh button
        document.getElementById('new-quote').classList.add('spinner');
        // Occasionally select from favorites
        if (Math.random() < 0.3) {
            const quote = favorites[Math.floor(Math.random() * favorites.length)];
            document.getElementById('quote-content').innerHTML = `‚Äú<b>${quote.content}</b>‚Äù`;
            document.getElementById('author').innerText = quote.author;
            document.getElementById('quote-content').classList.add("favorite");
            document.getElementById('favorite-label').style.display = "block";
        // Remove the spinner class from the refresh button
        document.getElementById('new-quote').classList.remove('spinner');
        } else {
            fetch('https://api.quotable.io/random')
            .then(response => response.json())
            .then(data => {
                document.getElementById('quote-content').innerHTML = `‚Äú<b>${data.content}</b>‚Äù`;
                document.getElementById('author').innerText = data.author;
                document.getElementById('quote-content').classList.remove("favorite");
                document.getElementById('favorite-label').style.display = "none";
            // Remove the spinner class from the refresh button
            document.getElementById('new-quote').classList.remove('spinner');
            });
        }
    }

    getQuote();

    // Add the theme toggle script here
    document.getElementById('toggle-theme').addEventListener('click', function() {
    document.body.classList.toggle('dark-theme');

    if (document.body.classList.contains('dark-theme')) {
        this.innerHTML = "‚òÄÔ∏è";
        document.getElementById('logo').src = "https://i.ibb.co/k0DDCS4/quotesdarkpng.png";
        localStorage.setItem('theme', 'dark');  // save dark theme preference
    } else {
        this.innerHTML = "üåô";
        document.getElementById('logo').src = "https://i.ibb.co/s9QrBLX/quotespng.png";
        localStorage.setItem('theme', 'light'); // save light theme preference
    }
});

// When the page loads, check for a saved theme preference and apply it
document.addEventListener('DOMContentLoaded', function() {
    const savedTheme = localStorage.getItem('theme');

    if (savedTheme === 'dark') {
        document.body.classList.add('dark-theme');
        document.getElementById('toggle-theme').innerHTML = "‚òÄÔ∏è";
        document.getElementById('logo').src = "https://i.ibb.co/k0DDCS4/quotesdarkpng.png";
    } else {
        document.body.classList.remove('dark-theme');
        document.getElementById('toggle-theme').innerHTML = "üåô";
        document.getElementById('logo').src = "https://i.ibb.co/s9QrBLX/quotespng.png";
    }
});

document.getElementById('new-quote').addEventListener('click', getQuote);


    </script>
</body>
</html>
